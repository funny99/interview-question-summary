# é—­åŒ…
## å®šä¹‰
- çº¢å®ä¹¦é‡Œé¢è¯´ï¼šâ€œé—­åŒ…å°±æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°â€œã€‚
- åœ£ç»å®å…¸é‡Œé¢è¯´ï¼šâ€ä»æŠ€æœ¯çš„è§’åº¦æ¥è®²ï¼Œæ‰€æœ‰çš„JavaScriptå‡½æ•°éƒ½æ˜¯é—­åŒ…ï¼›å®ƒä»¬éƒ½æ˜¯å¯¹è±¡ï¼Œå®ƒä»¬éƒ½å…³è”åˆ°ä½œç”¨åŸŸé“¾â€œã€‚
- You dont't know JS say:"å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œ"ã€‚

**é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°**

åªè¦å­˜åœ¨è°ƒç”¨å†…éƒ¨å‡½æ•°çš„å¯èƒ½ï¼Œjså°±éœ€è¦ä¿å­˜è¢«å¼•ç”¨çš„å‡½æ•°ã€‚jsè¿è¡Œæ—¶éœ€è¦è·Ÿè¸ªå¼•ç”¨åˆ°çš„è¿™ä¸ªå†…éƒ¨å‡½æ•°çš„æ‰€æœ‰å˜é‡ï¼Œä¸€ç›´åˆ°æœ€åä¸€ä¸ªå˜é‡åºŸé™¤ï¼Œjsçš„GCæ‰èƒ½å›æ”¶è¿™äº›å˜é‡çš„å†…å­˜ç©ºé—´ã€‚

## å½¢æˆé—­åŒ…çš„åŸå› 
å†…éƒ¨çš„å‡½æ•°å­˜åœ¨å¤–éƒ¨ä½œç”¨åŸŸçš„å¼•ç”¨å°±ä¼šå¯¼è‡´é—­åŒ…ã€‚

## é—­åŒ…å˜é‡å­˜å‚¨çš„ä½ç½®
**é—­åŒ…ä¸­çš„å˜é‡å­˜å‚¨çš„ä½ç½®æ˜¯å †å†…å­˜ã€‚**

å‡å¦‚é—­åŒ…ä¸­çš„å˜é‡å­˜å‚¨åœ¨æ ˆå†…å­˜ä¸­ï¼Œé‚£ä¹ˆæ ˆçš„å›æ”¶ ä¼šæŠŠå¤„äºæ ˆé¡¶çš„å˜é‡è‡ªåŠ¨å›æ”¶ã€‚æ‰€ä»¥é—­åŒ…ä¸­çš„å˜é‡å¦‚æœå¤„äºæ ˆä¸­é‚£ä¹ˆå˜é‡è¢«é”€æ¯åï¼Œé—­åŒ…ä¸­çš„å˜é‡å°±æ²¡æœ‰äº†ã€‚æ‰€ä»¥é—­åŒ…å¼•ç”¨çš„å˜é‡æ˜¯å‡ºäºå †å†…å­˜ä¸­çš„ã€‚

## ä½œç”¨
å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡;è®©è¿™äº›å˜é‡çš„å€¼å§‹ç»ˆä¿æŒåœ¨å†…å­˜ä¸­ã€‚

- ä¿æŠ¤å‡½æ•°çš„ç§æœ‰å˜é‡ä¸å—å¤–éƒ¨çš„å¹²æ‰°ã€‚å½¢æˆä¸é”€æ¯çš„æ ˆå†…å­˜ã€‚
- ä¿å­˜ï¼ŒæŠŠä¸€äº›å‡½æ•°å†…çš„å€¼ä¿å­˜ä¸‹æ¥ã€‚é—­åŒ…å¯ä»¥å®ç°æ–¹æ³•å’Œå±æ€§çš„ç§æœ‰åŒ–

## ä½¿ç”¨åœºæ™¯
- returnå›ä¸€ä¸ªå‡½æ•°
- å‡½æ•°ä½œä¸ºå‚æ•°
- IIFEï¼ˆè‡ªæ‰§è¡Œå‡½æ•°ï¼‰
- å¾ªç¯èµ‹å€¼
- ä½¿ç”¨å›è°ƒå‡½æ•°å°±æ˜¯åœ¨ä½¿ç”¨é—­åŒ…
- èŠ‚æµé˜²æŠ–
- æŸ¯é‡ŒåŒ–å®ç°

## æ³¨æ„ç‚¹
- ç”±äºé—­åŒ…ä¼šä½¿å¾—å‡½æ•°ä¸­çš„å˜é‡éƒ½è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå†…å­˜æ¶ˆè€—å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸èƒ½æ»¥ç”¨é—­åŒ…ï¼Œå¦åˆ™ä¼šé€ æˆç½‘é¡µçš„æ€§èƒ½é—®é¢˜ï¼Œåœ¨IEä¸­å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨é€€å‡ºå‡½æ•°ä¹‹å‰ï¼Œå°†ä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚
- é—­åŒ…ä¼šåœ¨çˆ¶å‡½æ•°å¤–éƒ¨ï¼Œæ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æŠŠçˆ¶å‡½æ•°å½“ä½œå¯¹è±¡ï¼ˆobjectï¼‰ä½¿ç”¨ï¼ŒæŠŠé—­åŒ…å½“ä½œå®ƒçš„å…¬ç”¨æ–¹æ³•ï¼ˆPublic Methodï¼‰ï¼ŒæŠŠå†…éƒ¨å˜é‡å½“ä½œå®ƒçš„ç§æœ‰å±æ€§ï¼ˆprivate valueï¼‰ï¼Œè¿™æ—¶ä¸€å®šè¦å°å¿ƒï¼Œä¸è¦éšä¾¿æ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚

è¿™é‡Œç®€å•è¯´ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨é—­åŒ…æ—¶å˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶æ”¶é”€æ¯å‘¢ï¼Œè¿™é‡Œéœ€è¦äº†è§£ä¸€ä¸‹JSåƒåœ¾å›æ”¶æœºåˆ¶ï¼š
JSè§„å®šåœ¨ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸå†…ï¼Œç¨‹åºæ‰§è¡Œå®Œä»¥åå˜é‡å°±ä¼šè¢«é”€æ¯ï¼Œè¿™æ ·å¯èŠ‚çœå†…å­˜ï¼›ä½¿ç”¨é—­åŒ…æ—¶ï¼ŒæŒ‰ç…§ä½œç”¨åŸŸé“¾çš„ç‰¹ç‚¹ï¼Œé—­åŒ…ï¼ˆå‡½æ•°ï¼‰å¤–é¢çš„å˜é‡ä¸ä¼šè¢«é”€æ¯ï¼Œå› ä¸ºå‡½æ•°ä¼šä¸€ç›´è¢«è°ƒç”¨ï¼Œæ‰€ä»¥ä¸€ç›´å­˜åœ¨ï¼Œå¦‚æœé—­åŒ…ä½¿ç”¨è¿‡å¤šä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚

> [MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures)

> [é‚£äº›é«˜çº§/èµ„æ·±çš„å‰ç«¯æ˜¯å¦‚ä½•å›ç­”JavaScripté¢è¯•é¢˜çš„ ï¼ˆä¸€ï¼‰](https://juejin.cn/post/6971727286856843295)

# JS å †æ ˆå†…å­˜é‡Šæ”¾
**å †å†…å­˜**ï¼šå­˜å‚¨å¼•ç”¨ç±»å‹å€¼ï¼Œå¯¹è±¡ç±»å‹å°±æ˜¯é”®å€¼å¯¹ï¼Œå‡½æ•°å°±æ˜¯ä»£ç å­—ç¬¦ä¸²ã€‚

**å †å†…å­˜é‡Šæ”¾**ï¼šå°†å¼•ç”¨ç±»å‹çš„ç©ºé—´åœ°å€å˜é‡èµ‹å€¼æˆ nullï¼Œæˆ–æ²¡æœ‰å˜é‡å ç”¨å †å†…å­˜äº†æµè§ˆå™¨å°±ä¼šé‡Šæ”¾æ‰è¿™ä¸ªåœ°å€

**æ ˆå†…å­˜**ï¼šæä¾›ä»£ç æ‰§è¡Œçš„ç¯å¢ƒå’Œå­˜å‚¨åŸºæœ¬ç±»å‹å€¼ã€‚

**æ ˆå†…å­˜é‡Šæ”¾**ï¼šä¸€èˆ¬å½“å‡½æ•°æ‰§è¡Œå®Œåå‡½æ•°çš„ç§æœ‰ä½œç”¨åŸŸå°±ä¼šè¢«é‡Šæ”¾æ‰ã€‚

ä½†æ ˆå†…å­˜çš„é‡Šæ”¾ä¹Ÿæœ‰ç‰¹æ®Šæƒ…å†µï¼šâ‘  å‡½æ•°æ‰§è¡Œå®Œï¼Œä½†æ˜¯å‡½æ•°çš„ç§æœ‰ä½œç”¨åŸŸå†…æœ‰å†…å®¹è¢«æ ˆå¤–çš„å˜é‡è¿˜åœ¨ä½¿ç”¨çš„ï¼Œæ ˆå†…å­˜å°±ä¸èƒ½é‡Šæ”¾é‡Œé¢çš„åŸºæœ¬å€¼ä¹Ÿå°±ä¸ä¼šè¢«é‡Šæ”¾ã€‚â‘¡ å…¨å±€ä¸‹çš„æ ˆå†…å­˜åªæœ‰é¡µé¢è¢«å…³é—­çš„æ—¶å€™æ‰ä¼šè¢«é‡Šæ”¾

# å˜é‡æå‡
## å®šä¹‰
```
/* ä½ åº”è¯¥è§è¿‡ä¸‹é¢çš„ç±»ä¼¼ä»£ç ï¼Œé‚£ä½ çŸ¥é“è¿™æ˜¯ä¸ºä»€ä¹ˆ*/
console.log(a)  // undefined
var a = 10
```
> å˜é‡æå‡æ˜¯å½“æ ˆå†…å­˜ä½œç”¨åŸŸå½¢æˆæ—¶ï¼ŒJSä»£ç æ‰§è¡Œå‰ï¼Œæµè§ˆå™¨ä¼šå°†å¸¦æœ‰var, functionå…³é”®å­—çš„å˜é‡æå‰è¿›è¡Œå£°æ˜ declare(å€¼é»˜è®¤å°±æ˜¯ undefined)ï¼Œå®šä¹‰ defined(å°±æ˜¯èµ‹å€¼æ“ä½œ)ï¼Œè¿™ç§é¢„å…ˆå¤„ç†çš„æœºåˆ¶å°±å«åšå˜é‡æå‡æœºåˆ¶ä¹Ÿå«é¢„å®šä¹‰ã€‚
åœ¨å˜é‡æå‡é˜¶æ®µï¼šå¸¦ var çš„åªå£°æ˜è¿˜æ²¡æœ‰è¢«å®šä¹‰ï¼Œå¸¦ function çš„å·²ç»å£°æ˜å’Œå®šä¹‰ã€‚æ‰€ä»¥åœ¨ä»£ç æ‰§è¡Œå‰æœ‰å¸¦ var çš„å°±æå‰å£°æ˜ï¼Œæ¯”å¦‚è¿™é‡Œçš„ a å°±èµ‹å€¼æˆ undefinedï¼Œåœ¨ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°åˆ›å»ºå‡½æ•°çš„ä»£ç æµè§ˆå™¨ä¼šç›´æ¥è·³è¿‡ã€‚


> [å½»åº•è§£å†³ JS å˜é‡æå‡| ä¸€é¢˜ä¸€å›¾ï¼Œè¶…è¯¦ç»†åŒ…æ•™åŒ…ä¼šğŸ˜‰](https://juejin.cn/post/6933377315573497864)

# jså†…å­˜æ³„æ¼
## å®šä¹‰
å†…å­˜æ³„æ¼å¯ä»¥å®šä¹‰ä¸ºç¨‹åºä¸å†ä½¿ç”¨æˆ–ä¸éœ€è¦çš„ä¸€å—å†…å­˜ï¼Œä½†æ˜¯ç”±äºæŸç§åŸå› æ²¡æœ‰è¢«é‡Šæ”¾ä»ç„¶è¢«ä¸å¿…è¦çš„å æœ‰ã€‚
åœ¨ä»£ç ä¸­åˆ›å»ºå¯¹è±¡å’Œå˜é‡ä¼šå ç”¨å†…å­˜ï¼Œä½†æ˜¯javaScriptæ˜¯æœ‰è‡ªå·±çš„å†…å­˜å›æ”¶æœºåˆ¶ï¼Œå¯ä»¥ç¡®å®šé‚£äº›å˜é‡ä¸å†éœ€è¦ï¼Œå¹¶å°†å…¶æ¸…é™¤ã€‚ä½†æ˜¯å½“ä½ çš„ä»£ç å­˜åœ¨é€»è¾‘ç¼ºé™·çš„æ—¶å€™ï¼Œä½ ä»¥ä¸ºä½ å·²ç»ä¸éœ€è¦ï¼Œä½†æ˜¯ç¨‹åºä¸­è¿˜å­˜åœ¨ç€å¼•ç”¨ï¼Œå¯¼è‡´ç¨‹åºè¿è¡Œå®Œåå¹¶æ²¡æœ‰åˆé€‚çš„å›æ”¶æ‰€å ç”¨çš„ç©ºé—´ï¼Œå¯¼è‡´å†…å­˜ä¸æ–­çš„å ç”¨ï¼Œè¿è¡Œçš„æ—¶é—´è¶Šé•¿å ç”¨çš„å°±è¶Šå¤šï¼Œéšä¹‹å‡ºç°çš„æ˜¯ï¼Œæ€§èƒ½ä¸ä½³ï¼Œé«˜å»¶è¿Ÿï¼Œé¢‘ç¹å´©æºƒã€‚

## åŸå› 
è™½ç„¶å‰ç«¯æœ‰åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä½†å½“æŸå—æ— ç”¨çš„å†…å­˜ï¼Œå´æ— æ³•è¢«åƒåœ¾å›æ”¶æœºåˆ¶è®¤ä¸ºæ˜¯åƒåœ¾æ—¶ï¼Œä¹Ÿå°±å‘ç”Ÿå†…å­˜æ³„æ¼äº†
è€Œåƒåœ¾å›æ”¶æœºåˆ¶é€šå¸¸æ˜¯ä½¿ç”¨æ ‡å¿—æ¸…é™¤ç­–ç•¥ï¼Œç®€å•è¯´ï¼Œä¹Ÿå°±æ˜¯å¼•ç”¨ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ˜¯å¦å¯è¾¾æ¥åˆ¤å®šæ˜¯å¦æ˜¯åƒåœ¾
ä¸Šé¢æ˜¯å‘ç”Ÿå†…å­˜æ³„æ¼çš„æ ¹æœ¬åŸå› ï¼Œç›´æ¥åŸå› åˆ™æ˜¯ï¼Œå½“ä¸åŒç”Ÿå‘½å‘¨æœŸçš„ä¸¤ä¸ªä¸œè¥¿ç›¸äº’é€šä¿¡æ—¶ï¼Œä¸€æ–¹ç”Ÿå‘½åˆ°æœŸè¯¥å›æ”¶äº†ï¼Œå´è¢«å¦ä¸€æ–¹è¿˜æŒæœ‰æ—¶ï¼Œä¹Ÿå°±å‘ç”Ÿå†…å­˜æ³„æ¼äº†

## åœºæ™¯
- æ„å¤–çš„å…¨å±€å˜é‡
- é—å¿˜çš„å®šæ—¶å™¨
- ä½¿ç”¨ä¸å½“çš„é—­åŒ…
- é—æ¼çš„DOMå…ƒç´ 
- ç½‘ç»œå›è°ƒ

> [js å†…å­˜æ³„æ¼åœºæ™¯ã€å¦‚ä½•ç›‘æ§ä»¥åŠåˆ†æ](https://juejin.cn/post/6844904048961781774)

> [å½»åº•æŒæ¡jså†…å­˜æ³„æ¼ä»¥åŠå¦‚ä½•é¿å…](https://juejin.cn/post/6844903917986267143)

# script æ ‡ç­¾ä¸­ defer å’Œ async çš„åŒºåˆ«ï¼Ÿ
scriptæ ‡ç­¾ä¼šé˜»ç¢htmlè§£æï¼Œåªæœ‰ä¸‹è½½å¥½å¹¶æ‰§è¡Œå®Œè„šæœ¬æ‰ä¼šç»§ç»­è§£æhtmlã€‚
- asyncï¼š è§£æhtmlè¿‡ç¨‹ä¸­è¿›è¡Œè„šæœ¬çš„å¼‚æ­¥ä¸‹è½½ï¼Œä¸‹è½½å®Œæˆç«‹é©¬æ‰§è¡Œï¼Œæœ‰å¯èƒ½ä¼šé˜»æ–­htmlçš„è§£æ
- deferï¼šå®Œå…¨ä¸ä¼šé˜»ç¢htmlçš„è§£æï¼Œè§£æå®Œæˆåå†æŒ‰ç…§é¡ºåºæ‰§è¡Œè„šæœ¬
![](./images/script-async-defer.awebp)

> [å›¾è§£ script æ ‡ç­¾ä¸­çš„ async å’Œ defer å±æ€§](https://juejin.cn/post/6894629999215640583)

# å‚è€ƒ
- [JS é—­åŒ…ç»å…¸ä½¿ç”¨åœºæ™¯å’Œå«é—­åŒ…å¿…åˆ·é¢˜](https://juejin.cn/post/6937469222251560990)